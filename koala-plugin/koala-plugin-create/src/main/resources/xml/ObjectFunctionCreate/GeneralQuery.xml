<?xml version="1.0" encoding="UTF-8"?>

<XmlParse>

	<property name="description">Koala-General-Query</property>

	<CopyFiles>
		<property name="srcDir">vm/other/general_query/</property>
		<property name="destDir">${Project.path}/${Project.appName}/${Module.moduleName}/src/main/webapp/
		</property>
	</CopyFiles>

	<VelocityDirObject>
		<property name="vmDir">vm/other/general_query_source_code/application</property>
		<property name="pathDir">${Project.path}/${Project.appName}/${Project.appName}-application/</property>
	</VelocityDirObject>
	
	<VelocityDirObject>
		<property name="vmDir">vm/other/general_query_source_code/core</property>
		<property name="pathDir">${Project.path}/${Project.appName}/${Project.appName}-core/</property>
	</VelocityDirObject>
	
	<VelocityDirObject>
		<property name="vmDir">vm/other/general_query_source_code/infra</property>
		<property name="pathDir">${Project.path}/${Project.appName}/${Project.appName}-infra/</property>
	</VelocityDirObject>
	
	<VelocityDirObject>
		<property name="vmDir">vm/other/general_query_source_code/web/controller</property>
		<property name="pathDir">${Project.path}/${Project.appName}/${Project.appName}-web/</property>
	</VelocityDirObject>

	<!-- <XmlAdd>
		<property name="xmlFile">${Project.path}/${Project.appName}/${Module.moduleName}/pom.xml</property>
		<property name="uri">http://maven.apache.org/POM/4.0.0</property>
		<property name="parentSearch"><![CDATA[/xmlns:project/xmlns:dependencies]]></property>
		<property name="selfSearch"><![CDATA[/xmlns:project/xmlns:dependencies/xmlns:dependency[xmlns:groupId='org.openkoala.gqc' and xmlns:artifactId='koala-gqc-controller']]]></property>
		<property name="xmlContent">
         <![CDATA[
         <?xml version="1.0" encoding="UTF-8"?>
    <root>
          <dependency>
			<groupId>commons-dbutils</groupId>
			<artifactId>commons-dbutils</artifactId>
			<version>1.5</version>
		</dependency>
         <dependency>
        	<groupId>com.oracle</groupId>
        	<artifactId>ojdbc14</artifactId>
        	<version>10.2.0.4.0</version>
        </dependency>
        <dependency> 
            <groupId>org.openkoala</groupId>  
            <artifactId>ttt-infra</artifactId>  
            <version>${project.parent.version}</version>
        </dependency> 
	</root>
         ]]>
		</property>
	</XmlAdd> -->

	<XmlAdd>
		<property name="xmlFile">${Project.path}/${Project.appName}/${Project.appName}-core/pom.xml</property>
		<property name="uri">http://maven.apache.org/POM/4.0.0</property>
		<property name="parentSearch"><![CDATA[/xmlns:project/xmlns:dependencies]]></property>
		<property name="selfSearch"><![CDATA[/xmlns:project/xmlns:dependencies/xmlns:dependency[xmlns:groupId='org.openkoala' and xmlns:artifactId='koala-core']]]></property>
		<property name="xmlContent">
         <![CDATA[
    <?xml version="1.0" encoding="UTF-8"?>
    <root>
          <dependency>
			<groupId>commons-dbutils</groupId>
			<artifactId>commons-dbutils</artifactId>
			<version>1.5</version>
		</dependency>
         <dependency>
        	<groupId>com.oracle</groupId>
        	<artifactId>ojdbc14</artifactId>
        	<version>10.2.0.4.0</version>
        </dependency>
        <dependency> 
            <groupId>org.openkoala</groupId>  
            <artifactId>ttt-infra</artifactId>  
            <version>${project.parent.version}</version>
        </dependency> 
        <dependency>
                <groupId>org.springframework</groupId>
                <artifactId>spring-beans</artifactId>
                <version>3.2.6.RELEASE</version>
          </dependency>
        <dependency>
                <groupId>org.dayatang.dddlib</groupId>
                <artifactId>dddlib-query-channel</artifactId>
                <version>${dddlib.version}</version>
            </dependency>
	</root>
         ]]>
		</property>
	</XmlAdd>
	
	<XmlAdd>
	    <property name="express">$Project.dbProtocol=='JPA'</property>
		<property name="xmlFile">${Project.path}/${Project.appName}/${Project.appName}-conf/src/main/resources/META-INF/spring/db-context.xml</property>
		<property name="uri">http://www.springframework.org/schema/beans</property>
		<property name="parentSearch"><![CDATA[/xmlns:beans]]></property>
		<property name="selfSearch"><![CDATA[/xmlns:beans/xmlns:import[@resource='classpath*:META-INF/spring/gqc-shared-persistence.xml']]]></property>
		<property name="xmlContent">
         <![CDATA[
    <?xml version="1.0" encoding="UTF-8"?>
    <root>
	  <import resource="classpath*:META-INF/spring/gqc-shared-persistence.xml"/>
	</root>
         ]]>
		</property>
	</XmlAdd>
	
	<XmlAdd>
	    <property name="express">$Project.dbProtocol!='JPA'</property>
		<property name="xmlFile">${Project.path}/${Project.appName}/${Project.appName}-conf/src/main/resources/META-INF/spring/db-context.xml</property>
		<property name="uri">http://www.springframework.org/schema/beans</property>
		<property name="parentSearch"><![CDATA[/xmlns:beans]]></property>
		<property name="selfSearch"><![CDATA[/xmlns:beans/xmlns:import[@resource='classpath*:META-INF/spring/gqc-standalone-persistence.xml']]]></property>
		<property name="xmlContent">
         <![CDATA[
    <?xml version="1.0" encoding="UTF-8"?>
    <root>
	  <import resource="classpath*:META-INF/spring/gqc-mybatis-shared-persistence.xml"/>
	</root>
         ]]>
		</property>
	</XmlAdd>
	
	<VelocityFileObject>
	    <property name="express">$Project.dbProtocol=='Mybatis'</property>
		<property name="vm">vm/base/conf-mybatis/src/main/resources/META-INF/spring/JPA-persistence-context.xml</property>
		<property name="path">${Project.path}/${Project.appName}/${Project.appName}-conf/src/main/resources/META-INF/spring/JPA-persistence-context.xml</property>
	</VelocityFileObject>
	
	<XmlAdd>
	    <property name="express">$Project.dbProtocol=='Mybatis'</property>
		<property name="xmlFile">${Project.path}/${Project.appName}/${Project.appName}-conf/src/test/resources/META-INF/spring/db-context.xml</property>
		<property name="uri">http://www.springframework.org/schema/beans</property>
		<property name="parentSearch"><![CDATA[/xmlns:beans]]></property>
		<property name="selfSearch"><![CDATA[/xmlns:beans/xmlns:import[@resource='classpath:META-INF/spring/JPA-persistence-context.xml']]]></property>
		<property name="xmlContent">
         <![CDATA[
    <?xml version="1.0" encoding="UTF-8"?>
    <root>
	  <import resource="classpath:META-INF/spring/JPA-persistence-context.xml"/>
	</root>
         ]]>
		</property>
	</XmlAdd>
	
</XmlParse>